<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">



<head>
<th:block th:replace="fragments/import :: info-header" />
<th:block th:replace="fragments/import :: css-header" />
<th:block th:replace="fragments/import :: js-header" />
</head>



<body id="page-top">
	<th:block th:replace="fragments/general :: navbar-header" />

	<div id="wrapper">
		<th:block th:replace="fragments/general :: menu" />

		<div id="content-wrapper">
			<div class="container-fluid">
				<th:block th:replace="fragments/general :: panel-page" />


				<!-- CONTENT PAGE -->
				<div id="cart" class="card mb-3">
					<div id="divContentHeader" class="card-header">
						 <b><span id="titlePage" th:text="${titlePage}"></span></b>
					</div>
					<div class="card-body">
						<div id="alertSuccess" class="alert alert-success"
							style="display: none;">
							<strong>Success!</strong> <span id="alertSuccessMsg"
								th:text="${M_0005}"></span>
						</div>
						<div id="alertFailed" class="alert alert-danger"
							style="display: none;">
							<strong>Failed!</strong> <span id="alertFailedMsg"></span>
						</div>
						<div id="coaIndex">
							<div class="row justify-content-end">
								<div class="col-md-2">
									<button id="coaCreate" class="btn btn-primary col-md-12"
										onclick="create()">
										<i class="fa fa-plus"></i> Create
									</button>
								</div>
							</div>
							<br>
							<div class="row justify-content-end">
								<div class="col-md-2">
									<select id="coaFilterKey" name="coaFilterKey"
										class="form-control">
										<option value=""></option>
										<option value="coaCode">COA</option>
										<option value="coaDescript">Description</option>
									</select>
								</div>

								<div class="input-group col-md-2">
									<input id="coaFilterValue" name="coaFilterValue" type="text"
										class="form-control">
									<div class="input-group-append">
										<button class="btn btn-primary" type="button"
											onclick="coaFilteredSearch()">
											<i class="fas fa-search"></i>
										</button>
									</div>
								</div>

							</div>

							</br>
							<table id="tableCoa" data-toolbar-align="right"
								data-toggle="table" data-sortable="true" data-url=""
								data-side-pagination="server" data-pagination="true"
								data-pagination-v-align="top"
								data-page-size="5" data-page-list="[5, 10, 25, 50, ALL]">
								<thead>
									<tr>
										<th data-field="coaCode" data-sortable="true">COA</th>
										<th data-field="coaDescript" data-sortable="true">Description</th>
										<th data-field="coaHeader" data-sortable="true">D/H</th>
										<th data-field="coaLevel" data-sortable="true">Level</th>
										<th data-field="coaRoleUp" data-sortable="true">Role Up</th>
										<th data-field="coaClassStr">Class</th>
										<th data-field="coaDataStatusStr">Status</th>
										<th data-field="coaDataStatus">StatusId</th>
										<th data-field="coaLevel">LevelId</th>
										<th data-field="coaCurrId">CurrId</th>
										<th data-field="coaNormal">NormalId</th>
										<th data-field="coaClass">ClassId</th>
									</tr>
								</thead>
							</table>
						</div>


						<div id="coaCreateForm" hidden>
							<div class="row justify-content-end">
								<div class="col-md-2">
									<button class="btn btn-danger col-md-12" onclick="back()">
										<i class="fa fa-chevron-left"></i> Back
									</button>
								</div>
							</div>
							</br>

							<div class="row">
								<div class="col-md-2">
									<label>Chart of Account*</label> </br> <input type="text"
										name="coaCode" id="coaCode" class="form-control col-md-12"
										required="true" />
								</div>
								<div class="col-md-4">
									<label>Description*</label> </br> <input type="text"
										name="coaDescript" id="coaDescript"
										class="form-control col-md-12" required="true" />
								</div>
								<div class="col-md-2">
									<label>Head/Detail*</label> </br> <select name="coaHeader"
										id="coaHeader" class="form-control col-md-12" required="true">
										<option value=""></option>
										<option value="H">H</option>
										<option value="D">D</option>
									</select>
								</div>

								<div class="col-md-2">
									<label>Normal*</label> </br> <select name="coaNormal" id="coaNormal"
										class="form-control col-md-12" required="true">
										<option value=""></option>
										<option value="C">C</option>
										<option value="D">D</option>
									</select>
								</div>

								<div class="col-md-2">
									<label>Role Up*</label> </br>
									<div class="input-group">
										<input id="coaRoleUp" name="coaRoleUp" type="text"
											class="form-control" disabled>
										<div class="input-group-append">
											<button id='btnRoleUp' class="btn btn-primary" type="button"
												data-toggle="modal" data-target="#roleUpModal">
												<i class="fas fa-search"></i>
											</button>
										</div>
									</div>
								</div>
							</div>
							</br>
							<div class="row">
								<div class="col-md-2">
									<label>Class*</label> </br> <select name="coaClass" id="coaClass"
										class="form-control col-md-12" required="true">
									</select>
								</div>
								<div class="col-md-2">
									<label>Currency*</label> </br> <select name="coaCurrId"
										id="coaCurrId" class="form-control col-md-12" required="true">
									</select>
								</div>
								<div class="col-md-2">
									<label>Level*</label> </br> <select name="coaLevel" id="coaLevel"
										class="form-control col-md-12" required="true">
										<option></option>
										<option value='1'>1</option>
										<option value='2'>2</option>
										<option value='3'>3</option>
										<option value='4'>4</option>
										<option value='5'>5</option>
										<option value='6'>6</option>
										<option value='7'>7</option>
										<option value='8'>8</option>
										<option value='9'>9</option>
										<option value='10'>10</option>

									</select>
								</div>
								<div class="col-md-2">
									<label>Status*</label> </br> <select name="coaDataStatus"
										id="coaDataStatus" class="form-control col-md-12"
										required="true">
										<option></option>
										<option value="11">Active</option>
										<option value="12">Inctive</option>
									</select>
								</div>
							</div>
							</br>
							<div class="row card-body">
								<div class="form-check col-md-2">
									<input class="form-check-input" type="checkbox" value="1"
										id="coaCetakAt"> <label class="form-check-label"
										for="trialBalance"> Trial Balance </label>
								</div>
								<div class="form-check col-md-2">
									<input class="form-check-input" type="checkbox" value="1"
										id="coaPrintBs"> <label class="form-check-label"
										for="BalanceSheet"> BS Standard </label>
								</div>
								<div class="form-check col-md-2">
									<input class="form-check-input" type="checkbox" value="1"
										id="coaPrintCf"> <label class="form-check-label"
										for="cashFlow"> Cash Flow </label>
								</div>
								<div class="form-check col-md-2">
									<input class="form-check-input" type="checkbox" value="1"
										id="coaPrintPl"> <label class="form-check-label"
										for="pLStatement"> P/L Standard </label>
								</div>
								<div class="form-check col-md-2">
									<input class="form-check-input" type="checkbox" value="1"
										id="revaluation"> <label class="form-check-label"
										for="revaluation"> Revaluation </label>
								</div>
								<div class="form-check col-md-2">
									<input class="form-check-input" type="checkbox" value="1"
										id="bankList"> <label class="form-check-label"
										for="bankList"> Bank List </label>
								</div>
							</div>
							<div class="row card-body">
								<div class="form-check col-md-2">
									<input class="form-check-input" type="checkbox" value="1"
										id="balanceSheet"> <label class="form-check-label"
										for="balanceSheet"> Balance Sheet </label>
								</div>
								<div class="col-md-2">
								</div>
								<div class="form-check col-md-2">
									<input class="form-check-input" type="checkbox" value="1"
										id="profitLoss"> <label class="form-check-label"
										for="profitLoss"> Profit and Loss </label>
								</div>
							</div>
							<div class="row card-body">
								<div class="col-md-1">
									<label>Row</label>
								</div>
								<div class="col-md-2">
									<input type="text"
										name="rowBS" id="rowBS" class="form-control col-md-12"
										required="true" />
								</div>
								<div class="col-md-1">
								</div>
								<div class="col-md-1">
									<label>Row</label>
								</div>
								<div class="col-md-2">
									<input type="text"
										name="rowPL" id="rowPL" class="form-control col-md-12"
										required="true" />
								</div>
							</div>
							<div class="row card-body">
								<div class="col-md-1">
									<label>Header</label>
								</div>
								<div class="col-md-2">
									<select name="headerBS"
										id="headerBS" class="form-control col-md-12"
										required="true" onchange="changeFunction1()">
										<option></option>
										<option value="H">H</option>
										<option selected="selected" value="D">D</option>
									</select>
								</div>
								<div class="col-md-1">
								</div>
								<div class="col-md-1">
									<label>Group</label>
								</div>
								<div class="col-md-2">
									<select name="groupPL"
										id="groupPL" class="form-control col-md-12"
										required="true">
										<option selected="selected" value="A">A</option>
										<option value="B">B</option>
										<option value="C">C</option>
										<option value="D">D</option>
										<option value="E">E</option>
									</select>
								</div>
							</div>
							<div class="row card-body" id="divGroupBS">
								<div class="col-md-1">
									<label>Group</label>
								</div>
								<div class="col-md-2">
									<select name="groupBS"
										id="groupBS" class="form-control col-md-12"
										required="true">
										<option value="0" disabled></option>
										<option value="A" selected="selected">A</option>
										<option value="B">B</option>
										<option value="C">C</option>
										<option value="D">D</option>
										<option value="E">E</option>
									</select>
								</div>
							</div>
							<div class="row card-body" id="divPos">
								<div class="col-md-1">
									<label>Position</label>
								</div>
								<div class="col-md-2">
									<select name="position"
										id="position" class="form-control col-md-12"
										required="true">
										<option selected="selected" value="L">L</option>
										<option value="R">R</option>
										<option disabled></option>
									</select>
								</div>
							</div>
							<div class="row card-body" id="divGroupBS2">
								<div class="col-md-1">
									<label>Group</label>
								</div>
								<div class="col-md-2">
									<select name="groupBS2"
										id="groupBS2" class="form-control col-md-12"
										required="true">
										<option value="0"></option>
										<option value="A" disabled>A</option>
										<option value="B" disabled>B</option>
										<option value="C" disabled>C</option>
										<option value="D" disabled>D</option>
										<option value="E" disabled>E</option>
									</select>
								</div>
							</div>
							<div class="row card-body" id="divPos2">
								<div class="col-md-1">
									<label>Position</label>
								</div>
								<div class="col-md-2">
									<select name="position2"
										id="position2" class="form-control col-md-12"
										required="true">
										<option value="L" disabled>L</option>
										<option value="R" disabled>R</option>
										<option></option>
									</select>
								</div>
							</div>
							

							</br> </br>
							<th:block th:replace="fragments/button :: btn-save-cancel" />
						</div>
					</div>

				</div>

				<div class="modal fade" id="roleUpModal" tabindex="-1" role="dialog"
					aria-labelledby="roleUpModal" aria-hidden="true">
					<div class="modal-dialog modal-lg" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title" id="roleUpModalLabel">Role Up</h5>
								<button type="button" class="close" data-dismiss="modal"
									aria-label="Close">
									<span aria-hidden="true">&times;</span>
								</button>
							</div>
							<div class="modal-body">

								<div class="row card-body justify-content-end">
									<div class="col-md-3">
										<select id="roleUpSelector" name="roleUpSelector"
											class="custom-select">
											<option value=""></option>
											<option value="coaCode">Code</option>
											<option value="coaDescript">Name</option>
										</select>
									</div>
									<div class="input-group col-md-3">
										<input id="roleUpFilterValue" type="text" class="form-control">
										<div class="input-group-append">
											<button id="roleUpSearchBtn" class="btn btn-primary"
												type="button" onclick="coaRoleUpFilteredSearch()">
												<i class="fas fa-search"></i>
											</button>
										</div>
									</div>
								</div>
								<br>
								<table id="tableRoleUp" data-toggle="table" data-url=""
									data-height="400" data-sortable="true"
									data-side-pagination="server" data-pagination="true"
									data-page-size="5" data-page-list="[5, 10, 25, 50, ALL]">
									<thead>
										<tr>
											<th data-field="coaCode" data-sortable="true">Code</th>
											<th data-field="coaDescript" data-sortable="true">Name</th>
										</tr>
									</thead>
								</table>
							</div>
						</div>
					</div>
				</div>

			</div>

			<!-- end of container -->


		</div>
		<!-- /.container-fluid -->
		<th:block th:replace="fragments/general :: copyright-footer"></th:block>
	</div>
	<!-- /.content-wrapper -->

	<!-- /#wrapper -->
	<th:block th:replace="fragments/modal :: confirmation-save" />
	<th:block th:replace="fragments/general :: scroll-to-top" />
	<th:block th:replace="fragments/general :: logout-modal" />
	<th:block th:replace="fragments/import :: js-body" />

</body>

<script type="text/javascript" th:inline="javascript">
/*<![CDATA[*/
var dataField = {
		modify:false,
		coaCode:coaCode,
		coaDescript:coaDescript,
		coaHeader:coaHeader,
		coaNormal:coaNormal,
		coaRoleUp:coaRoleUp,
		coaClass:coaClass,
		coaCurrId:coaCurrId,
		coaLevel:coaLevel,
		coaDataStatus:coaDataStatus,
		coaCetakAt:coaCetakAt,
		coaPrintBs:coaPrintBs,
		coaPrintCf:coaPrintCf,
		coaPrintPl:coaPrintPl,
		revaluation:revaluation,
		bankList:bankList,
		balanceSheet:balanceSheet,
		profitLoss:profitLoss,
		rowBS:rowBS,
		rowPL:rowPL,
		headerBS:headerBS,
		groupBS:groupBS,
		position:position,
		groupBS2:groupBS2,
		position2:position2,
		groupPL:groupPL
		
}

$('document').ready(function(){
	$('#coaFilterKey').select2({ width: '100%' });
	$('#coaHeader').select2({ width: '100%' });
	$('#coaNormal').select2({ width: '100%'});
	$('#coaLevel').select2({ width: '100%'});
	$('#coaDataStatus').select2({ width: '100%'});
	$('#roleUpSelector').select2({ width: '100%'});
	$('#headerBS').select2({ width: '100%' });
	$('#groupPL').select2({ width: '100%' });
	$('#groupBS').select2({ width: '100%' });
	$('#position').select2({ width: '100%' });
	$('#groupBS2').select2({ width: '100%' });
	$('#position2').select2({ width: '100%' });
	
	$("#divGroupBS").show();
	$("#divPos").show();
	$("#divGroupBS2").hide();
	$("#divPos2").hide();
	
	$.ajax({
        url: "/gui-re-broker/static-data/coa/dropdownClass"
    }).then(function(data) {
    	
    	$('#coaClass').select2({
  		  width: '100%',
  		  data:(JSON.parse(data)).results
  		});
    });
	
	
	$.ajax({
        url: "/gui-re-broker/static-data/coa/dropdownCurr"
    }).then(function(data) {
    	
    	$('#coaCurrId').select2({
  		  width: '100%',
  		  data:(JSON.parse(data)).results
  		});
    });
	
	$('#tableCoa').bootstrapTable('refreshOptions', {
	    theadClasses: 'thead-dark',
	    url: /*[[@{/static-data/coa/inquiry}]]*/,
	    pageNumber: 1
	});
	$('#tableCoa').bootstrapTable('hideColumn', 'coaDataStatus');
	$('#tableCoa').bootstrapTable('hideColumn', 'coaLevel');
	$('#tableCoa').bootstrapTable('hideColumn', 'coaCurrId');
	$('#tableCoa').bootstrapTable('hideColumn', 'coaNormal');
	$('#tableCoa').bootstrapTable('hideColumn', 'coaClass');
	
	$('#btnSave').click(function() {
		$('#btnSave').attr('disabled', true);
		$('#modalConfirmation').modal('show');
	});
	$('#btnModalYes').click(function() {
		save();
	});
	$('#btnCancel').click(function() {
		reset();
	});
	
	$('#btnRoleUp').click(function() {
		$('#roleUpSelector').val('');
		$('#roleUpSelector').trigger('change');
		$('#roleUpFilterValue').val('');
		$('#tableRoleUp').bootstrapTable('refreshOptions', {
		    theadClasses: 'thead-dark',
		    url: /*[[@{/static-data/coa/roleUp}]]*/,
		    pageNumber: 1
		});
	});	
	
	$('#btnModalNo').click(function() {
		$('#btnSave').attr('disabled', false);
	});
});

function changeFunction1(){
	var headerBS = document.getElementById("headerBS").value;
	if(headerBS == 'H'){
		$("#divGroupBS").hide();
		$("#divPos").hide();
		$("#divGroupBS2").show();
		$("#divPos2").show();
	}else{
		$("#divGroupBS").show();
		$("#divPos").show();
		$("#divGroupBS2").hide();
		$("#divPos2").hide();
	}
}



function create(){
	$('#titlePage').text(/*[[${titlePageCreate}]]*/);
	$('#coaCreateForm').removeAttr('hidden');
	$('#coaIndex').attr('hidden', true);
	
}

function back(){
	$('#titlePage').text(/*[[${titlePage}]]*/);
	dataField.modify=false;
	$('#coaCode').removeAttr('disabled');
	reset();
	$('#coaFilterKey').val(''); // Select the option with a value of '1'
	$('#coaFilterKey').trigger('change')
	$('#coaFilterValue').val("");
	$('#tableCoa').bootstrapTable('refreshOptions', {
	    theadClasses: 'thead-dark',
	    url: /*[[@{/static-data/coa/inquiry}]]*/,
	    pageNumber: 1
	});
	$('#tableCoa').bootstrapTable('hideColumn', 'coaDataStatus');
	$('#tableCoa').bootstrapTable('hideColumn', 'coaLevel');
	$('#tableCoa').bootstrapTable('hideColumn', 'coaCurrId');
	$('#tableCoa').bootstrapTable('hideColumn', 'coaNormal');
	$('#coaCreateForm').attr('hidden', true);
	$('#coaIndex').removeAttr("hidden");
}

function coaFilteredSearch(){
	var url = "/gui-re-broker/static-data/coa/inquiry";
	var filterKey = $( "#coaFilterKey" ).select2('val');
	var filterValue = $( "#coaFilterValue" ).val();
	var allUrl = url
	
	if(filterValue != ""){
		var allUrl = url+"?filterKey="+filterKey+"&filterValue="+filterValue;
	}
	
	$('#tableCoa').bootstrapTable('refreshOptions', {
	    theadClasses: 'thead-dark',
	    url: allUrl,
	    pageNumber: 1
	});
}

function coaRoleUpFilteredSearch(){
	var url = "/gui-re-broker/static-data/coa/roleUp";
	var filterKey = $( "#roleUpSelector" ).select2('val');
	var filterValue = $( "#roleUpFilterValue" ).val();
	var allUrl = url
	
	if(filterValue != ""){
		var allUrl = url+"?filterKey="+filterKey+"&filterValue="+filterValue;
	}
	
	$('#tableRoleUp').bootstrapTable('refreshOptions', {
	    theadClasses: 'thead-dark',
	    url: allUrl,
	    pageNumber: 1
	});
}

$('#tableCoa').on('click-row.bs.table',function(e, row, $tr) {
	dataField.modify = true;
	dataField.coaCode=row.coaCode;
	dataField.coaDescript=row.coaDescript;
	dataField.coaHeader=row.coaHeader;
	dataField.coaNormal=row.coaNormal;
	dataField.coaRoleUp=row.coaRoleUp;
	dataField.coaClass=row.coaClass;
	dataField.coaCurrId=row.coaCurrId;
	dataField.coaLevel=row.coaLevel;
	dataField.coaDataStatus=row.coaDataStatus;
	dataField.coaCetakAt=row.coaCetakAt;
	dataField.coaPrintBs=row.coaPrintBs;
	dataField.coaPrintCf=row.coaPrintCf;
	dataField.coaPrintPl=row.coaPrintPl;
	$('#coaCode').prop('disabled', true);
	dataField.revaluation=row.coaRevalt;
	dataField.bankList=row.coaBankBk;
	dataField.balanceSheet=row.coaBsNew;
	dataField.profitLoss=row.coaPlNew;
	dataField.rowBS=row.coaRowBs;
	dataField.rowPL=row.coaRowPl;
	dataField.headerBS=row.rowHeadBs;
	dataField.groupBS=row.coaGroupBs;
	dataField.position=row.positionBs;
	dataField.groupBS2=row.coaGroupBs;
	dataField.position2=row.positionBs;
	dataField.groupPL=row.coaGroupPl;
	create();
	reset();
});

$('#tableRoleUp').on('click-row.bs.table',function(e, row, $tr) {
	$('#coaRoleUp').val(row.coaCode);
	$('#roleUpModal').modal('hide');
	$('#tableRoleUp').bootstrapTable('refreshOptions', {
	    theadClasses: 'thead-dark',
	    url: /*[[@{/static-data/coa/roleUp}]]*/,
	    pageNumber: 1
	});
	$('#roleUpSelector').val("");
	$('#roleUpSelector').trigger('change')
	$('#roleUpFilterValue').val("");
});

function reset(){
	if(!dataField.modify){
		$('#coaCode').val("");
		$('#coaDescript').val("");
		
		$('#coaHeader').val("");
		$('#coaHeader').trigger('change')
		
		$('#coaNormal').val("");
		$('#coaNormal').trigger('change') 
		
		$('#coaRoleUp').val("");
		$('#coaRoleUp').trigger('change')
		
		$('#coaClass').val("");
		$('#coaClass').trigger('change')
		
		$('#coaCurrId').val("");
		$('#coaCurrId').trigger('change')
		
		$('#coaLevel').val("");
		$('#coaLevel').trigger('change')
		
		$('#coaDataStatus').val("");
		$('#coaDataStatus').trigger('change')
		
		$('#coaCetakAt').prop('checked', false);
		$('#coaPrintBs').prop('checked', false);
		$('#coaPrintCf').prop('checked', false);
		$('#coaPrintPl').prop('checked', false);
		$('#revaluation').prop('checked', false);
		$('#bankList').prop('checked', false);
		$('#balanceSheet').prop('checked', false);
		$('#profitLoss').prop('checked', false);
		
		$('#rowBS').val("");
		$('#rowBS').trigger('change')
		
		$('#rowPL').val("");
		$('#rowPL').trigger('change')
		
		$('#headerBS').val("D");
		$('#headerBS').trigger('change')
		
		$('#groupBS').val("A");
		$('#groupBS').trigger('change')
		
		$('#position').val("L");
		$('#position').trigger('change')
		
		$('#groupBS2').val("");
		$('#groupBS2').trigger('change')
		
		$('#position2').val("");
		$('#position2').trigger('change')
		
		$('#groupPL').val("A");
		$('#groupPL').trigger('change')
	}else{
		$('#coaCode').val(dataField.coaCode);
		$('#coaDescript').val(dataField.coaDescript);
		
		$('#coaHeader').val(dataField.coaHeader);
		$('#coaHeader').trigger('change')
		
		$('#coaNormal').val(dataField.coaNormal);
		$('#coaNormal').trigger('change')
		
		$('#coaRoleUp').val(dataField.coaRoleUp);
		$('#coaRoleUp').trigger('change')
		
		$('#coaClass').val(dataField.coaClass);
		$('#coaClass').trigger('change')
		
		$('#coaCurrId').val(dataField.coaCurrId);
		$('#coaCurrId').trigger('change')
		
		$('#coaLevel').val(dataField.coaLevel);
		$('#coaLevel').trigger('change')
		
		$('#coaDataStatus').val(dataField.coaDataStatus);
		$('#coaDataStatus').trigger('change')
		
		
		if(dataField.coaCetakAt == '1'){
			$('#coaCetakAt').prop('checked', true);
		}else{
			$('#coaCetakAt').prop('checked', false);
		}
		
		if(dataField.coaPrintBs == '1'){
			$('#coaPrintBs').prop('checked', true);
		}else{
			$('#coaPrintBs').prop('checked', false);
		}
		
		if(dataField.coaPrintCf == '1'){
			$('#coaPrintCf').prop('checked', true);
		}else{
			$('#coaPrintCf').prop('checked', false);
		}
		
		if(dataField.coaPrintPl == '1'){
			$('#coaPrintPl').prop('checked', true);
		}else{
			$('#coaPrintPl').prop('checked', false);
		}
		

		if(dataField.revaluation == '1'){
			$('#revaluation').prop('checked', true);
		}else{
			$('#revaluation').prop('checked', false);
		}
		

		if(dataField.bankList == '1'){
			$('#bankList').prop('checked', true);
		}else{
			$('#bankList').prop('checked', false);
		}
		

		if(dataField.balanceSheet == '1'){
			$('#balanceSheet').prop('checked', true);
		}else{
			$('#balanceSheet').prop('checked', false);
		}
		

		if(dataField.profitLoss == '1'){
			$('#profitLoss').prop('checked', true);
		}else{
			$('#profitLoss').prop('checked', false);
		}
		
		$('#rowBS').val(dataField.rowBS);
		$('#rowBS').trigger('change')
		
		$('#rowPL').val(dataField.rowPL);
		$('#rowPL').trigger('change')

		$('#headerBS').val(dataField.headerBS);
		$('#headerBS').trigger('change')
		
		$('#groupBS').val(dataField.groupBS);
		$('#groupBS').trigger('change')
		
		$('#position').val(dataField.position);
		$('#position').trigger('change')
		
		$('#groupBS2').val(dataField.groupBS2);
		$('#groupBS2').trigger('change')
		
		$('#position2').val(dataField.position2);
		$('#position2').trigger('change')
		
		$('#groupPL').val(dataField.groupPL);
		$('#groupPL').trigger('change')
	}
}

function validationRequired() {
	if($('#coaCode').val() == "" ||
		$('#coaDescript').val() == "" ||
		$('#coaHeader').val() == "" ||
		$('#coaNormal').val() == "" ||
		$('#coaRoleUp').val() == "" ||
		$('#coaClass').val() == "" ||
		$('#coaCurrId').val() == "" ||
		$('#coaLevel').val() == "" ||
		$('#coaDataStatus').val() == ""){
			return false;
		}
	return true;
}

function save(){
	
	if(validationRequired()){
		$('#btnModalyes').attr('disabled', true);
		var coaCode = $('#coaCode').val();
		var coaDescript = $('#coaDescript').val();
		var coaHeader = $('#coaHeader').val();
		var coaNormal = $('#coaNormal').val();
		var coaRoleUp = $('#coaRoleUp').val();
		var coaClass = $('#coaClass').val();
		var coaCurrId = $('#coaCurrId').val();
		var coaLevel = parseInt($('#coaLevel').val());
		var coaDataStatus = $('#coaDataStatus').val();
		var coaCetakAt = "0";
		if($('#coaCetakAt').prop('checked') == true){
			coaCetakAt = "1";
		}
		var coaPrintBs = "0";
		if($('#coaPrintBs').prop('checked') == true){
			coaPrintBs = "1";
		}
		var coaPrintCf = "0";
		if($('#coaPrintCf').prop('checked') == true){
			coaPrintCf = "1";
		}
		var coaPrintPl = "0";
		if($('#coaPrintPl').prop('checked') == true){
			coaPrintPl = "1";
		}
		var coaReval = "0";
		if($('#revaluation').prop('checked') == true){
			coaReval = "1";
		}
		var coaBankList = "0";
		if($('#bankList').prop('checked') == true){
			coaBankList = "1";
		}
		
		var coaRowBS = "";
		var coaHeaderBS = "";
		var coaGroupBS = "";
		var coaPosition = "";
		
		var coaBlSheet = "0";
		if($('#balanceSheet').prop('checked') == true){
			coaBlSheet = "1";
			coaRowBS = $('#rowBS').val();
			coaHeaderBS = $('#headerBS').val();
			coaGroupBS = $('#groupBS').val();
			coaPosition = $('#position').val();
			if(coaHeaderBS == 'H'){
				coaGroupBS = "";
				coaPosition = ""
			}
		}
		
		var coaRowPL = "";
		var coaGroupPL = "";
		
		var coaProfitLoss = "0";
		if($('#profitLoss').prop('checked') == true){
			coaProfitLoss = "1";
			coaRowPL = $('#rowPL').val();
			coaGroupPL = $('#groupPL').val();
		}
		
		var data ={
			coaCode:coaCode,
			coaDescript:coaDescript,
			coaHeader:coaHeader,
			coaNormal:coaNormal,
			coaRoleUp:coaRoleUp,
			coaClass:coaClass,
			coaCurrId:coaCurrId,
			coaLevel:coaLevel,
			coaDataStatus:coaDataStatus,
			coaCetakAt:coaCetakAt,
			coaPrintBs:coaPrintBs,
			coaPrintCf:coaPrintCf,
			coaPrintPl:coaPrintPl,
			coaReval:coaReval,
			coaBankList:coaBankList,
			coaBlSheet:coaBlSheet,
			coaProfitLoss:coaProfitLoss,
			coaRowBS:coaRowBS,
			coaHeaderBS:coaHeaderBS,
			coaGroupBS:coaGroupBS,
			coaPosition:coaPosition,
			coaRowPL:coaRowPL,
			coaGroupPL:coaGroupPL
		}
		
		$.ajax({ 
	        type: "POST",
	        dataType: "json",
	        contentType: "application/json",
	        data:JSON.stringify(data),
	        url: "/gui-re-broker/static-data/coa/save",
	        complete:function(jqXHR, textStatus){
	 			if(textStatus == "success") {
	 				showAlertSuccess();
	 				
	 			}else {
	 				showAlertFailed(/*[[${M_0006}]]*/);
	 			} 
	        }
	       
	    });	
	}else{
		showAlertFailed(/*[[${M_0008}]]*/);
	}
	$('#btnModalyes').removeAttr('disabled');
 	$('#modalConfirmation').modal('hide');
}
	
	function showAlertSuccess() {
		$('#alertSuccess').fadeTo(2000, 500).slideUp(500, function() {
		    $('#alertSuccess').slideUp(500);
		    location.reload();
		});
	}
	
	function showAlertFailed(msgAlert) {
		$('#alertFailedMsg').text(msgAlert);
		$('#alertFailed').fadeTo(3000, 500).slideUp(500, function() {
		    $('#alertFailed').slideUp(500);
		    $('#btnSave').removeAttr('disabled')
		});
	}


//Data table properties



/*]]>*/
</script>

</html>